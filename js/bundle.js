var myApp=function(t){var e={};function s(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";function o(t,e,s,o){this.radius=t,this.x=s,this.y=o,this.depth=e,this.color=r(n,50*-e),this.children=0}s.r(e);function i(t,e){let s=10+30*Math.random();return new o(s,2*Math.random(),s+parseInt(Math.random()*(t-2*s)),s+parseInt(Math.random()*(e-2*s)))}function r(t,e){var s=!1;"#"==t[0]&&(t=t.slice(1),s=!0);var o=parseInt(t,16),i=(o>>16)+e;i>255?i=255:i<0&&(i=0);var r=(o>>8&255)+e;r>255?r=255:r<0&&(r=0);var n=(255&o)+e;return n>255?n=255:n<0&&(n=0),(s?"#":"")+(n|r<<8|i<<16).toString(16)}const n="#FFF3FE";function h(t,e,s){this.name=t,this.color=e,this.purposeFunction=s}function a(t,e,s){return new h(t,e,s)}let c,l;let m=new Array;function u(t,e){this.success=0,this.cost=0,t&&(this.x=t%c),e&&(this.y=e%l)}function f(t,e,s,o,i,r,n){for(c=r,l=n,this.pause=!1,this.size=t,this.ctx=i,this.finished=!1,this.interestExtremum=e,this.extremums=o,this.members=[],this.colorGenes=s,this.generationNumber=0;t--;){let t=new u;t.random(),this.members.push(t)}this.oldValue,this.countFinish=0}u.prototype.x=0,u.prototype.y=0,u.prototype.random=function(){this.x=Math.random()*c,this.y=Math.random()*l},u.prototype.mutate=function(t){if(Math.random()>t||1==this.success)return;Math.random();let e=Math.random()<=.5?-1:1,s=Math.random()*c;this.x=e?(this.x+s)%c:Math.abs(this.x-s)%c;let o=Math.random()*l;this.y=e?(this.y+o)%l:Math.abs(this.y-o)%l},u.prototype.mate=function(t){let e=20*Math.random(),s=Math.random()<=.5?-1:1,o=this.x+s*e,i=t.y-s*e;return[new u(this.x,i),new u(o,t.y)]},u.prototype.calcCost=function(t,e){},f.prototype.calcCost=function(t,e){},f.prototype.display=function(){if(!this.pause){this.ctx.clearRect(0,0,canvas.width,canvas.height);for(let t=0;t<this.extremums.length;t++)this.ctx.beginPath(),this.ctx.arc(Math.floor(this.extremums[t].x),Math.floor(this.extremums[t].y),this.extremums[t].radius,0,2*Math.PI),this.ctx.fillStyle=this.extremums[t].color,this.ctx.fill(),this.ctx.stroke();for(let t=0;t<this.members.length;t++)this.ctx.beginPath(),this.ctx.arc(Math.floor(this.members[t].x),Math.floor(this.members[t].y),2,0,2*Math.PI),this.ctx.fillStyle=this.colorGenes,this.ctx.fill(),this.ctx.stroke();this.drawResults(!1)}},f.prototype.sort=function(){let t=0,e=0;for(let s=0;s<this.members.length;s++){t=-1,e=0;for(let o=s;o<this.members.length;o++)this.members[o].cost>t&&(t=this.members[o].cost,e=o);let o=new u(this.members[e].x,this.members[e].y);o.cost=this.members[e].cost,this.members[e]=new u(this.members[s].x,this.members[s].y),this.members[e].cost=this.members[s].cost,this.members[s]=new u(o.x,o.y),this.members[s].cost=o.cost}let s=new Array;s=this.members.filter((t,e)=>e<this.size),this.members=new Array,this.members=s},f.prototype.executing=!1,f.prototype.drawResults=function(t){if(!this.pause){if(t){this.ctx.clearRect(0,0,canvas.width,canvas.height);for(let t=0;t<this.extremums.length;t++)this.ctx.beginPath(),this.ctx.arc(Math.floor(this.extremums[t].x),Math.floor(this.extremums[t].y),this.extremums[t].radius,0,2*Math.PI),this.ctx.fillStyle=this.extremums[t].color,this.ctx.fill(),this.ctx.stroke()}for(let t=0;t<m.length;t++)this.ctx.beginPath(),this.ctx.arc(Math.floor(m[t].x),Math.floor(m[t].y),4,0,2*Math.PI),this.ctx.fillStyle=m[t].color,this.ctx.fill(),this.ctx.stroke()}},f.prototype.generation=function(){this.generationNumber++;for(let t=0;t<this.members.length;t++)this.calcCost(this.members[t],this.extremums,m);if(this.sort(),this.display(),function(t,e){t&&t.length&&t[0].cost==e.oldValue&&e.countFinish++;if(e.countFinish>t.length/10)return!0;t&&t.length&&(e.oldValue=t[0].cost);return!1}(this.members,this))return function(t,e,s){let o=0,i=0,r=t.length/2,n=-1;for(let e=0;e<r;e++)t[e].cost>n&&(n=t[e].cost),i+=t[e].x,o+=t[e].y;if(d.x=i/r,d.y=o/r,d.cost=n,d.color=e,m[0]){const t=m[0].x,e=m[0].y;d.distance=Math.sqrt(Math.pow(Math.floor(t-d.x),2)+Math.pow(Math.floor(e-d.y),2))}s.forEach(t=>{Math.sqrt(Math.pow(Math.floor(d.x-t.x),2)+Math.pow(Math.floor(d.y-t.y),2))<=t.radius&&(d.depth=t.depth)})}(this.members,this.colorGenes,this.extremums),this.interestExtremum=d,m.push({...d}),this.drawResults(!0),this.finished=!0,!0;for(let t=0;t<this.members.length/2;t+=2){let e=this.members[t].mate(this.members[t+1]);this.members.push(e[0]),this.members.push(e[1])}for(let t=0;t<this.members.length;t++)this.calcCost(this.members[t],this.extremums,m);this.sort();for(let t=this.members.length/2;t<this.members.length;t++)this.members[t].mutate(.7),this.calcCost(this.members[t],this.extremums,m);let t=this;this.pause||setTimeout((function(){t.generation()}),150)};let d={color:void 0,cost:-1,x:0,y:0,depth:0,distance:0};let p=-1,y=.5,x=.5;function M(t,e,s){t.cost=0,e.forEach(e=>{Math.sqrt(Math.pow(Math.floor(t.x-e.x),2)+Math.pow(Math.floor(t.y-e.y),2))<=e.radius&&(t.cost=e.depth)})}function b(t,e,s){let o=Math.sqrt(Math.pow(Math.floor(t.x-s[0].x),2)+Math.pow(Math.floor(t.y-s[0].y),2));t.cost=-1,e.forEach(e=>{Math.sqrt(Math.pow(Math.floor(t.x-e.x),2)+Math.pow(Math.floor(t.y-e.y),2))<=e.radius&&(t.cost=o)})}function g(t,e,s){let o=-1,i=-1;t.cost=-1;let r=Math.sqrt(Math.pow(Math.floor(t.x-s[0].x),2)+Math.pow(Math.floor(t.y-s[0].y),2));e.forEach(e=>{Math.sqrt(Math.pow(Math.floor(t.x-e.x),2)+Math.pow(Math.floor(t.y-e.y),2))<=e.radius&&(o=r)}),e.forEach(e=>{Math.sqrt(Math.pow(Math.floor(t.x-e.x),2)+Math.pow(Math.floor(t.y-e.y),2))<=e.radius&&(i=e.depth)}),t.cost=x*(o/s[1].cost)+y*(i/s[0].cost)}function w(t){t>=_.length||(_[t].finished||_[t].generationNumber||!_[t].pause?_[t].finished&&(_.forEach(e=>{e.interestExtremum=_[t].interestExtremum}),function(t,e){document.getElementById("info_main").style.display="flex";const s=document.createElement("div");s.className="info";let o=e[t].depth.toFixed(2);0==o&&(o="-");let i=e[t].distance.toFixed(2);0==i&&(i="-");s.innerHTML=P[t]+'<div class="info_item">'+o+'</div><div class="info_item">'+i+"</div>",document.getElementById("info").append(s)}(t,m),t++):(_[t].pause=!1,p=t,_[t].generation()),setTimeout(()=>{w(t)},0))}function v(t){let e=function(t){let e=[];for(let s=0;s<t;s++)e.push(i(600,500));return e.sort((t,e)=>t.depth-e.depth),e.forEach((t,e)=>t.color=r(n,-20*e)),e[9].color="black",e}(10);(function(){let t=[];return t.push(a("Depth","#ff00fe",M)),t.push(a("Distance","#3d92f2",b)),t.push(a("Distance and Depth","#f2093b",g)),t})().forEach((s,o)=>{const i=new f(t[o],void 0,s.color,e,I,600,500);_.push(i),i.calcCost=s.purposeFunction,i.pause=!0}),w(0)}let E=document.getElementById("canvas"),I=E.getContext("2d");E.setAttribute("width",600),E.setAttribute("height",500);let _=[];function B(){if(p>=0){const t=_[p].pause;_[p].pause=!t,t&&_[p].generation()}}function F(){_.forEach(t=>{t.pause=!0}),_=[],setTimeout(S,0)}document.getElementById("start_button").addEventListener("click",()=>{if(_.length>0){_.some(t=>!t.finished)?B():F()}else{if(_&&_.length>0)return;let t=[];t.push(parseInt(document.getElementById("populateNumberFirst").value)),t.push(parseInt(document.getElementById("populateNumberSecond").value)),t.push(parseInt(document.getElementById("populateNumberThird").value));let e=document.getElementById("weight").value,s=(100-e)/e;y=1/(1+s),x=y*s,console.log("wFirst ",y),console.log("wSecond ",x),v(t)}}),document.getElementById("pause_button").addEventListener("click",()=>{_.some(t=>!t.finished)?B():F()});const P=['<i class="fas fa-ruler info_item"></i>','<i class="fas fa-adjust info_item"></i>','<div class="info_item"><i class="fas fa-ruler"></i>&ensp;<i class="fas fa-adjust"></i></div>'];function S(){m=[],m=new Array,d={x:0,y:0,cost:0,color:void 0,depth:0,distance:0},p=-1,I.clearRect(0,0,E.width,E.height),document.getElementById("circleDepthAndDisctance").style.color="#f2093b",document.getElementById("circleDepth").style.color="#3d92f2",document.getElementById("circleDistance").style.color="#ff00fe"}document.getElementById("stop_button").addEventListener("click",()=>{F()}),S()}]);